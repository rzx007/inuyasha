<!-- 00dddd63-28d7-4c9d-bd16-b6ed30615e22 ee74881d-6f9a-40dc-84d2-17d3ec72d054 -->
# Vue3低代码平台开发计划

## 项目概述

开发一个面向运维人员的低代码可视化页面构建器，支持拖拽式设计监控面板、数据表格和表单页面。

## 技术栈

- **框架**: Vue3 + TypeScript + Vite
- **UI组件库**: Element Plus
- **状态管理**: Pinia
- **样式**: Tailwind CSS 4
- **拖拽库**: VueDraggablePlus（已安装，支持Vue3 Composition API，支持嵌套拖拽）

## 核心功能模块

### 1. 项目初始化与基础架构

- 使用 Vite 创建 Vue3 + TypeScript 项目
- 配置 Tailwind CSS 4
- 集成 Element Plus
- 配置 Pinia 状态管理
- 设置路由（Vue Router）
- 项目目录结构规划

### 2. 核心编辑器架构

- **画布区域**: 可视化编辑区域，支持拖拽和布局
- **组件面板**: 左侧组件库，包含基础组件和业务组件
- **属性面板**: 右侧属性配置面板，动态表单配置组件属性
- **工具栏**: 顶部操作栏（保存、预览、导出等）

### 3. 组件系统设计

- **基础组件**: 容器、文本、图片、按钮、分割线等
- **数据展示组件**: 表格、图表（ECharts集成）、统计卡片、列表
- **表单组件**: 输入框、选择器、日期选择、上传等
- **布局组件**: 栅格布局、卡片、折叠面板等
- 组件注册机制和动态渲染系统

### 4. 拖拽系统实现

- 组件拖拽到画布
- 画布内组件拖拽排序
- **嵌套布局支持**: 容器组件内可嵌套其他组件，支持多层级拖拽
- 组件选中和高亮（支持嵌套组件选中）
- 组件删除、复制、粘贴
- 撤销/重做功能

### 5. 属性配置系统

- 动态属性表单生成
- 支持基础属性（样式、尺寸、位置）
- 支持数据绑定配置
- 支持事件绑定配置
- 实时预览属性变更

### 6. 数据管理

- 页面配置数据结构设计（JSON Schema）
- 页面配置的保存和加载
- 本地存储（LocalStorage/IndexedDB）
- 数据源配置（为后续后端API预留接口）

### 7. 预览与导出

- 实时预览功能
- 独立预览页面
- 配置导出（JSON格式）
- 配置导入功能

### 8. 业务功能实现

- **监控面板**: 图表组件集成（ECharts），数据卡片展示
- **表格查询**: 动态表格组件，支持筛选、排序、分页配置
- **表单录入**: 动态表单生成，表单验证配置

## Monorepo 项目结构规划

```
ZenB列表uilder/
├── app/                    # 主应用（低代码编辑器）
│   ├── src/
│   │   ├── components/     # 应用级组件
│   │   │   ├── Editor/    # 编辑器核心组件
│   │   │   │   ├── Canvas.vue         # 画布组件（支持嵌套）
│   │   │   │   ├── ComponentPanel.vue # 组件面板
│   │   │   │   ├── PropertyPanel.vue  # 属性面板
│   │   │   │   ├── DataSourcePanel.vue # 数据源配置面板
│   │   │   │   └── Toolbar.vue        # 工具栏
│   │   │   └── Render/     # 渲染组件
│   │   │       └── DynamicRenderer.vue # 动态渲染器（递归渲染嵌套组件）
│   │   ├── stores/         # Pinia状态管理
│   │   │   ├── editor.ts   # 编辑器状态
│   │   │   ├── component.ts # 组件库状态
│   │   │   └── dataSource.ts # 数据源状态
│   │   ├── types/          # TypeScript类型定义
│   │   │   ├── component.ts # 组件类型
│   │   │   ├── editor.ts    # 编辑器类型
│   │   │   └── dataSource.ts # 数据源类型
│   │   ├── utils/          # 工具函数
│   │   │   ├── componentRegistry.ts # 组件注册
│   │   │   ├── schema.ts   # Schema处理
│   │   │   └── expression.ts # 表达式解析（简化版）
│   │   ├── config/         # 配置文件
│   │   │   ├── components.ts # 组件配置
│   │   │   └── dataSourceTemplates.ts # 数据源模板
│   │   └── pages/          # 页面视图（使用unplugin-vue-router）
│   │       ├── editor/     # 编辑器页面
│   │       └── preview/    # 预览页面
│   ├── package.json
│   └── vite.config.ts
├── packages/               # 共享包
│   ├── components/         # 低代码组件库（可拖拽的组件）
│   │   ├── base/          # 基础组件（容器、文本、按钮等）
│   │   ├── layout/        # 布局组件（栅格、卡片等，支持嵌套）
│   │   ├── data/          # 数据展示组件（表格、图表、统计卡片）
│   │   └── form/          # 表单组件（输入框、选择器等）
│   ├── editor-core/        # 编辑器核心逻辑（可选，未来可抽离）
│   └── utils/              # 共享工具（已存在）
├── internal/               # 内部配置包
│   └── eslint-config/      # ESLint配置（已存在）
├── package.json            # 根package.json
├── pnpm-workspace.yaml     # pnpm workspace配置
├── turbo.json              # Turbo构建配置
└── tsconfig.base.json      # 基础TypeScript配置
```

## 关键实现要点

1. **组件注册机制**: 使用配置化的方式注册组件，便于扩展
2. **Schema设计**: 定义统一的组件配置Schema，支持序列化和反序列化
3. **响应式设计**: 使用Tailwind CSS实现响应式布局
4. **类型安全**: 充分利用TypeScript确保类型安全
5. **性能优化**: 大画布场景下的虚拟滚动和懒加载

## 开发阶段

### 第一阶段：基础架构（核心编辑器框架）

- 项目初始化
- 编辑器布局（三栏布局）
- 基础拖拽功能
- 组件注册系统

### 第二阶段：组件系统

- 基础组件实现
- 数据展示组件（表格、图表）
- 表单组件
- 属性配置面板

### 第三阶段：业务功能

- 监控面板模板
- 表格查询功能
- 表单录入功能
- 数据绑定机制

### 第四阶段：完善与优化

- 预览功能完善
- 导入导出功能
- 撤销重做
- 性能优化

### To-dos

- [ ] 初始化Vue3 + TypeScript + Vite项目，配置Tailwind CSS 4、Element Plus、Pinia和Vue Router
- [ ] 实现编辑器基础布局（组件面板、画布、属性面板三栏布局）
- [ ] 建立组件注册系统，定义组件Schema和类型系统
- [ ] 实现拖拽功能：组件从面板拖到画布，画布内组件排序
- [ ] 实现基础组件（容器、文本、按钮、图片等）
- [ ] 实现属性配置面板，支持动态表单生成和实时预览
- [ ] 实现数据展示组件（表格、图表ECharts、统计卡片）
- [ ] 实现表单组件（输入框、选择器、日期等）和表单验证
- [ ] 实现页面配置的保存、加载和本地存储功能
- [ ] 实现预览功能和配置导入导出（JSON格式）
- [ ] 实现监控面板模板和图表数据绑定
- [ ] 实现表格查询功能（筛选、排序、分页配置）
- [ ] 实现表单录入功能和动态表单生成
- [ ] 实现撤销/重做功能和操作历史管理